# Impact of Precipitation on ANPP in the USDA LTAR Network

## Overview

This project analyzes the impact of precipitation (PPT) on Aboveground Net Primary Production (ANPP) across agroecosystem types, sites, and crops within the USDA Long-Term Agroecosystem Research (LTAR) network. Using data from 15 LTAR sites (1983–2022), the study models ANPP responses to precipitation, identifying patterns, thresholds, and site- or crop-specific behaviors. The analysis employs linear regression, piecewise linear regression with cyclic terms, and periodogram analysis to uncover relationships, such as precipitation explaining up to 82.7% of ANPP variation in rangelands and maize showing a 9.6-year precipitation cycle. The project aims to provide insights for ecological modeling and agroecosystem resilience under climate change.

## Features

- Models ANPP responses to precipitation using linear and piecewise linear regression with sine/cosine cyclic terms.
- Performs cycle detection via periodogram analysis to identify precipitation cycles (e.g., 9.6-year cycle for maize).
- Analyzes site-specific patterns (e.g., strong negative correlation at LCB, R² = 0.901) and crop-specific thresholds (e.g., maize ANPP peaks at ~853 mm PPT).
- Supports cluster-specific analysis, such as CPER’s strong PPT-ANPP relationship (R² = 0.829).
- Captures nonlinear effects, like switchgrass’s 20-year precipitation cycle response (R² = 0.956).

## Installation

To set up and run this Python project, follow these steps:

### Prerequisites

- Python 3.8+
- Jupyter Notebook
- Required libraries: `numpy`, `pandas`, `scipy`, `statsmodels`, `matplotlib`

## Data Setup

To run the analysis, you need the dataset `LTAR_LegProd_ANPP-PPT.csv` from the `LTAR_DS_Project_Dataset` folder in the repository.

1. **Download the Dataset**:
   - Navigate to the [LTAR_DS_Project_Dataset folder](https://github.com/Preetha-Selvaraj/LTAR_Agroecosystem_Project/tree/main/LTAR_DS_Project_Dataset) in the repository.
   - Download the file `LTAR_LegProd_ANPP-PPT.csv`.

2. **For Google Colab Users**:
   - Upload the downloaded `LTAR_LegProd_ANPP-PPT.csv` to your Google Drive, e.g., in a folder structure like `MyDrive/DS_Project_2025/DS_Project_Dataset/`.
   - Use the following code in your Jupyter notebook to load the dataset:
     ```python
     import pandas as pd
     df = pd.read_csv('/content/drive/MyDrive/DS_Project_2025/DS_Project_Dataset/LTAR_LegProd_ANPP-PPT.csv')
     ```
   - Ensure your Google Drive is mounted in Colab using:
     ```python
     from google.colab import drive
     drive.mount('/content/drive')
     ```
3. **For Local or Other Environments**:
   - Place `LTAR_LegProd_ANPP-PPT.csv` in a directory of your choice (e.g., a `project_dataset/` folder in the project directory).
   - Update the file path in the `pd.read_csv()` function to point to the location of the CSV file. For example:
     ```python
     import pandas as pd
     df = pd.read_csv('project_dataset/LTAR_LegProd_ANPP-PPT.csv')
     ```
     
### Steps

```bash
# Clone the repository
git clone https://github.com/Preetha-Selvaraj/LTAR_Agroecosystem_Project.git

# Navigate to the project directory
cd LTAR_Agroecosystem_Project
```
## Output

Results are stored as `.csv` files generated by the `select_best_model()` function, organized in three folders:

- `regression_model_results_1`
- `regression_model_results_2.zip`
- `regression_model_results_3`

These folders contain outputs for various configurations (yearly aggregate, cycle, smoothing, lags) from regression models, including linear, quadratic, piecewise linear, and spline regression.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Contact

For questions or feedback, reach out to:

- GitHub: [Preetha-Selvaraj](https://github.com/Preetha-Selvaraj)
- Email: ms.preethaselvaraj@gmail.com
